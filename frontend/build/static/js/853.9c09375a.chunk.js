"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[853],{3853:function(e,n,r){r.r(n),r.d(n,{default:function(){return E}});var t=r(2791),a=r(4165),s=r(5861),i=r(9439),o=r(2302),l=r(3999),u=r(1512),c=r(9508),d=r(9895),p=r(2468),v=r(7689),h=r(3108),f=r(184),m=function(e){var n=(0,t.useState)(),r=(0,i.Z)(n,2),a=r[0],s=r[1],o=(0,t.useState)(),u=(0,i.Z)(o,2),c=u[0],d=u[1],p=(0,t.useState)(!1),v=(0,i.Z)(p,2),h=v[0],m=v[1],x=(0,t.useRef)();(0,t.useEffect)((function(){if(a){var e=new FileReader;e.onload=function(){d(e.result)},e.readAsDataURL(a)}}),[a]);return(0,f.jsxs)("div",{className:"form-control",children:[(0,f.jsx)("input",{id:e.id,ref:x,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:function(n){var r,t=h;n.target.files&&1===n.target.files.length?(r=n.target.files[0],s(r),m(!0),t=!0):(m(!1),t=!1),e.onInput(e.id,r,t)}}),(0,f.jsxs)("div",{className:"image-upload ".concat(e.center&&"center"),children:[(0,f.jsxs)("div",{className:"image-upload__preview",children:[c&&(0,f.jsx)("img",{src:c,alt:"Preview"}),!c&&(0,f.jsx)("p",{children:"Please pick an image."})]}),(0,f.jsx)(l.Z,{type:"button",onClick:function(){x.current.click()},children:"PICK IMAGE"})]}),!h&&(0,f.jsx)("p",{children:e.errorText})]})},x=r(4942),g=r(1413),j=function(e,n){switch(n.type){case"INPUT_CHANGE":var r=!0;for(var t in e.inputs)e.inputs[t]&&(r=t===n.inputId?r&&n.isValid:r&&e.inputs[t].isValid);return(0,g.Z)((0,g.Z)({},e),{},{inputs:(0,g.Z)((0,g.Z)({},e.inputs),{},(0,x.Z)({},n.inputId,{value:n.value,isValid:n.isValid})),isValid:r});case"SET_DATA":return{inputs:n.inputs,isValid:n.formIsValid};default:return e}},C=function(){var e=(0,c.x)(),n=e.isLoading,r=e.error,x=e.sendRequest,g=e.clearError,C=(0,t.useContext)(h.V),E=(0,v.s0)(),b=function(e,n){var r=(0,t.useReducer)(j,{inputs:e,isValid:n}),a=(0,i.Z)(r,2),s=a[0],o=a[1];return[s,(0,t.useCallback)((function(e,n,r){o({type:"INPUT_CHANGE",value:n,isValid:r,inputId:e})}),[]),(0,t.useCallback)((function(e,n){o({type:"SET_DATA",inputs:e,formIsValid:n})}),[])]}({image:{value:null,isValid:!1}},!1),N=(0,i.Z)(b,2),Z=N[0],y=N[1],k=(0,u.Z)((function(e){return""!==e.trim()})),A=k.value,T=k.entervalueisvalid,R=k.haserror,I=k.valuechangehandler,w=k.valueblurhandler,P=k.reset,O=(0,u.Z)((function(e){return""!==e.trim()})),V=O.value,_=O.entervalueisvalid,F=O.haserror,S=O.valuechangehandler,D=O.valueblurhandler,B=O.reset,U=(0,u.Z)((function(e){return""!==e.trim()})),L=U.value,M=U.entervalueisvalid,G=U.haserror,H=U.valuechangehandler,q=U.valueblurhandler,z=U.reset,K=(0,u.Z)((function(e){return""!==e.trim()})),Q=K.value,W=K.entervalueisvalid,J=K.haserror,X=K.valuechangehandler,Y=K.valueblurhandler,$=K.reset,ee=(0,u.Z)((function(e){return""!==e.trim()})),ne=ee.value,re=ee.entervalueisvalid,te=ee.haserror,ae=ee.valuechangehandler,se=ee.valueblurhandler,ie=ee.reset,oe=(0,t.useRef)(),le=(0,t.useRef)(),ue=(0,t.useRef)(),ce=(0,t.useRef)(),de=(0,t.useRef)(),pe=!1;T&&_&&M&&W&&re&&(pe=!0);var ve=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),T){e.next=3;break}return e.abrupt("return");case 3:if(_){e.next=5;break}return e.abrupt("return");case 5:if(M){e.next=7;break}return e.abrupt("return");case 7:if(W){e.next=9;break}return e.abrupt("return");case 9:if(re){e.next=11;break}return e.abrupt("return");case 11:return P(),B(),z(),$(),ie(),e.prev=16,(r=new FormData).append("title",V),r.append("description",L),r.append("name",A),r.append("mrp",Q),r.append("price",ne),r.append("image",Z.inputs.image.value),e.next=26,x("https://gpsevg.adaptable.app/api/places","POST",r,{Authorization:"Bearer "+C.token});case 26:E("/sellernewproduct"),e.next=31;break;case 29:e.prev=29,e.t0=e.catch(16);case 31:case"end":return e.stop()}}),e,null,[[16,29]])})));return function(n){return e.apply(this,arguments)}}(),he=R?"form-control invalid":"form-control",fe=F?"form-control invalid":"form-control",me=G?"form-control invalid":"form-control",xe=J?"form-control invalid":"form-control",ge=te?"form-control invalid":"form-control";return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(p.Z,{error:r,onClear:g}),n&&(0,f.jsx)(d.Z,{asOverlay:!0}),(0,f.jsx)("h2",{children:"Upload New Products"}),(0,f.jsx)("div",{className:"form_input_div",children:(0,f.jsxs)("form",{onSubmit:ve,children:[(0,f.jsxs)("div",{className:he,children:[(0,f.jsx)("label",{htmlFor:"NAME",children:"NAME"}),(0,f.jsxs)("select",{id:"NAME",ref:oe,onfocus:"focusFunction(this)",onBlur:w,onChange:I,value:A,children:[";",(0,f.jsx)("option",{style:{fontWeigh:"bold",width:"100%"},children:"SELECT"}),(0,f.jsx)("option",{children:"FOOD"}),(0,f.jsx)("option",{children:"CLOTH"}),(0,f.jsx)("option",{children:"EV"}),(0,f.jsx)("option",{children:"INFRASTRACTURE"}),(0,f.jsx)("option",{children:"DRON"}),(0,f.jsx)("option",{children:"DECORATION"})]}),R&&(0,f.jsx)("p",{children:"enter valid name"})]}),(0,f.jsxs)("div",{className:fe,children:[(0,f.jsx)(o.Z,{id:"TITLE",type:"text",ref:le,onChange:S,onBlur:D,value:V}),F&&(0,f.jsx)("p",{children:"enter valid title"})]}),(0,f.jsxs)("div",{className:me,children:[(0,f.jsx)(o.Z,{id:"DESCRIPTION",type:"text",ref:ue,onChange:H,onBlur:q,value:L}),G&&(0,f.jsx)("p",{children:"enter valid description"})]}),(0,f.jsxs)("div",{className:xe,children:[(0,f.jsx)(o.Z,{id:"MRP",type:"number",ref:ce,onChange:X,onBlur:Y,value:Q}),J&&(0,f.jsx)("p",{children:"enter valid mrp"})]}),(0,f.jsxs)("div",{className:ge,children:[(0,f.jsx)(o.Z,{id:"OFFER PRICE",type:"number",ref:de,onChange:ae,onBlur:se,value:ne}),te&&(0,f.jsx)("p",{children:"enter valid price"})]}),(0,f.jsx)(m,{id:"image",onInput:y,errorText:"Please provide an image."}),(0,f.jsx)(l.Z,{disabled:!pe,children:"Upload New Product"}),(0,f.jsx)(l.Z,{to:"/".concat(C.userId,"/selleralluploadedproduct"),children:"View Uploaded Products"})]})})]})},E=function(){return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{style:{marginTop:"100px"},children:(0,f.jsx)(C,{})})})}},2302:function(e,n,r){r(2791);var t=r(184);n.Z=function(e){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("label",{htmlFor:e.id,children:e.id}),(0,t.jsx)("input",{style:{width:"100%"},type:e.type,id:e.id,onChange:e.onChange,ref:e.ref,onBlur:e.onBlur,value:e.value})]})}},2468:function(e,n,r){r.d(n,{Z:function(){return p}});var t=r(2791),a=r(1413),s=r(4164),i=r(6928),o=r(184),l=function(e){return s.createPortal((0,o.jsx)("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop-hook"))},u=function(e){var n=(0,o.jsxs)("div",{className:"modal ".concat(e.className),style:e.style,children:[(0,o.jsx)("header",{className:"modal__header ".concat(e.headerClass),children:(0,o.jsx)("h2",{children:e.header})}),(0,o.jsxs)("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()},children:[(0,o.jsx)("div",{className:"modal__content ".concat(e.contentClass),children:e.children}),(0,o.jsx)("footer",{className:"modal__footer ".concat(e.footerClass),children:e.footer})]})]});return s.createPortal(n,document.getElementById("modal-hook"))},c=function(e){return(0,o.jsxs)(t.Fragment,{children:[e.show&&(0,o.jsx)(l,{onClick:e.onCancel}),(0,o.jsx)(i.Z,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal",children:(0,o.jsx)(u,(0,a.Z)({},e))})]})},d=r(3999),p=function(e){return(0,o.jsx)(c,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:(0,o.jsx)(d.Z,{onClick:e.onClear,children:"Okay"}),children:(0,o.jsx)("p",{children:e.error})})}},1512:function(e,n,r){var t=r(9439),a=r(2791),s={value:"",isTouched:!1},i=function e(n,r){return"input"===r.type?{value:r.value,isTouched:n.isTouched}:"blur"===r.type?{isTouched:!0,value:n.value}:"reset"===r.type?{isTouched:!1,value:""}:e};n.Z=function(e){var n=(0,a.useReducer)(i,s),r=(0,t.Z)(n,2),o=r[0],l=r[1],u=e(o.value),c=!u&&o.isTouched;return{value:o.value,entervalueisvalid:u,haserror:c,valuechangehandler:function(e){l({type:"input",value:e.target.value})},valueblurhandler:function(){l({type:"blur"})},reset:function(){l({type:"reset"})}}}},6928:function(e,n,r){var t=r(7462),a=r(3366),s=r(4578),i=r(9252),o=r(2946),l=r(2791),u=r(7726),c=r(8852),d=function(e,n){return e&&n&&n.split(" ").forEach((function(n){return(0,o.Z)(e,n)}))},p=function(e){function n(){for(var n,r=arguments.length,t=new Array(r),a=0;a<r;a++)t[a]=arguments[a];return(n=e.call.apply(e,[this].concat(t))||this).appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(e,r){var t=n.resolveArguments(e,r),a=t[0],s=t[1];n.removeClasses(a,"exit"),n.addClass(a,s?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(e,r)},n.onEntering=function(e,r){var t=n.resolveArguments(e,r),a=t[0],s=t[1]?"appear":"enter";n.addClass(a,s,"active"),n.props.onEntering&&n.props.onEntering(e,r)},n.onEntered=function(e,r){var t=n.resolveArguments(e,r),a=t[0],s=t[1]?"appear":"enter";n.removeClasses(a,s),n.addClass(a,s,"done"),n.props.onEntered&&n.props.onEntered(e,r)},n.onExit=function(e){var r=n.resolveArguments(e)[0];n.removeClasses(r,"appear"),n.removeClasses(r,"enter"),n.addClass(r,"exit","base"),n.props.onExit&&n.props.onExit(e)},n.onExiting=function(e){var r=n.resolveArguments(e)[0];n.addClass(r,"exit","active"),n.props.onExiting&&n.props.onExiting(e)},n.onExited=function(e){var r=n.resolveArguments(e)[0];n.removeClasses(r,"exit"),n.addClass(r,"exit","done"),n.props.onExited&&n.props.onExited(e)},n.resolveArguments=function(e,r){return n.props.nodeRef?[n.props.nodeRef.current,e]:[e,r]},n.getClassNames=function(e){var r=n.props.classNames,t="string"===typeof r,a=t?""+(t&&r?r+"-":"")+e:r[e];return{baseClassName:a,activeClassName:t?a+"-active":r[e+"Active"],doneClassName:t?a+"-done":r[e+"Done"]}},n}(0,s.Z)(n,e);var r=n.prototype;return r.addClass=function(e,n,r){var t=this.getClassNames(n)[r+"ClassName"],a=this.getClassNames("enter").doneClassName;"appear"===n&&"done"===r&&a&&(t+=" "+a),"active"===r&&e&&(0,c.Q)(e),t&&(this.appliedClasses[n][r]=t,function(e,n){e&&n&&n.split(" ").forEach((function(n){return(0,i.Z)(e,n)}))}(e,t))},r.removeClasses=function(e,n){var r=this.appliedClasses[n],t=r.base,a=r.active,s=r.done;this.appliedClasses[n]={},t&&d(e,t),a&&d(e,a),s&&d(e,s)},r.render=function(){var e=this.props,n=(e.classNames,(0,a.Z)(e,["classNames"]));return l.createElement(u.ZP,(0,t.Z)({},n,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(l.Component);p.defaultProps={classNames:""},p.propTypes={},n.Z=p}}]);
//# sourceMappingURL=853.9c09375a.chunk.js.map